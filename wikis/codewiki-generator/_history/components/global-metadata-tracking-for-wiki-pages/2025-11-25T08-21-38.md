---
title: Global metadata tracking for wiki pages
category: component
sourceFile: lib/processor.js
related: []
created: 2025-11-25
updated: 2025-11-25
---

# Global Metadata Tracking for Wiki Pages

## Purpose and Overview

The global metadata tracking system provides centralized management of wiki page metadata within the processor component. It maintains a registry of page properties including titles, categories, and links to enable cross-referencing capabilities and future link analysis features.

## Key Functionality

- **Systematic Metadata Management**: Tracks essential page properties (title, category, links) through the WikiManager's `updatePageGlobalMetadata()` method
- **Dual-Phase Lifecycle**: Implements a two-step process where page creation/update operations are followed by metadata synchronization to ensure consistency
- **Centralized Registry**: Maintains a global index of page metadata that supports page discovery and relationship mapping
- **Cross-Reference Support**: Enables future implementation of link analysis and related page functionality

The system operates by intercepting page lifecycle events and updating the global metadata index whenever pages are created or modified, ensuring the central registry remains synchronized with actual page content.

## Relationships

- **WikiManager**: Primary integration point that handles both page operations and metadata tracking through methods like `createPage()`, `updatePage()`, and `updatePageGlobalMetadata()`
- **Processor**: Orchestrates the dual-phase lifecycle by coordinating page operations with metadata updates
- **Page Discovery Features**: Provides the foundational data structure for future link analysis and page relationship features

## Usage Example

```javascript
// Mock setup showing the metadata tracking integration
const mockWikiManager = {
  getPage: jest.fn(),
  createPage: jest.fn(),
  updatePage: jest.fn(),
  searchPages: jest.fn(),
  getRelatedPages: jest.fn(),
  updatePageGlobalMetadata: jest.fn()
};

// The processor coordinates page operations with metadata updates
// After page creation/update, metadata synchronization occurs automatically
```

## Testing

**Test Coverage**: `tests/unit/processor.test.js`
- 26 test cases across 6 test suites
- Comprehensive testing of processor functionality including metadata tracking workflows
- Test categories cover: Processor initialization, commit processing, file significance detection, context retrieval, page path determination, and repository processing