---
title: Web Dashboard Control Interface
category: component
sourceFile: lib/dashboard-controller.js
related: [_history/_history/components/web-dashboard-control-interface/2025-11-24T14-38-56/2025-11-24T14-38-58.md]
created: 2025-11-24
updated: 2025-11-24
---

# [Web Dashboard Control Interface](../_history/_history/components/web-dashboard-control-interface/2025-11-24T14-38-56/2025-11-24T14-38-58.md)

## Purpose and Overview

The [Web Dashboard Control Interface](../_history/_history/components/web-dashboard-control-interface/2025-11-24T14-38-56/2025-11-24T14-38-58.md) provides HTTP endpoints for interactive control and monitoring of wiki generation from repository analysis. It serves as the primary user-facing layer, enabling developers to start processing, pause/resume analysis, monitor progress, and access generated documentation through a web UI without managing long-running tasks directly.

## Key Functionality

### Dashboard Rendering and Status Monitoring
The controller renders an interactive dashboard view displaying current processing state and exposes a JSON endpoint (`getStatus`) for [real-time status polling](../_history/components/real-time-status-polling/2025-11-24T14-38-56.md). This allows the UI to stay synchronized with backend processing progress without forcing page refreshes.

### Processing Control Operations
The controller implements fine-grained control over repository processing:
- **Start Processing**: Initiates background repository analysis with URL validation and duplicate prevention
- **Pause Processing**: Halts active processing by updating persisted state, allowing later resumption
- **Step Processing**: Advances one commit incrementally for granular control
- **Batch Processing**: Processes multiple commits in a single operation for efficiency

### Background Task Decoupling
Long-running repository analysis occurs in background promises, decoupled from HTTP request/response cycles. This pattern prevents request timeouts while maintaining user feedback through state persistence and status polling.

### Wiki Page Access and Routing
The controller maps URL paths to generated wiki markdown files through the `renderWikiPage` function. This provides a unified access layer to the documentation produced by the processing pipeline, converting URL paths to file system locations.

### Input Validation
URL validation via `isValidGitHubUrl` ensures only properly formatted GitHub repository URLs enter the processing pipeline, preventing invalid requests from consuming resources.

## Relationships

- **Processor**: Delegates repository analysis and commit processing operations
- **StateManager**: Persists processing progress and pause/resume state across HTTP requests
- **WikiManager**: Retrieves generated wiki pages for serving to end users
- **HTTP Adapter**: Acts as the bridge between web requests and the core processing pipeline

## Usage Example

```javascript
const DashboardController = require('./lib/dashboard-controller');
const controller = new DashboardController(processor, stateManager, wikiManager);

// Render dashboard view
app.get('/dashboard', (req, res) => {
  const html = controller.renderDashboard();
  res.send(html);
});

// Get current status as JSON
app.get('/api/status', (req, res) => {
  const status = controller.getStatus();
  res.json(status);
});

// Start processing a repository
app.post('/api/start', (req, res) => {
  controller.startProcessing(req.body.repositoryUrl);
  res.json({ status: 'processing started' });
});

// Render a wiki page
app.get('/wiki/:page', (req, res) => {
  const html = controller.renderWikiPage(req.params.page);
  res.send(html);
});
```

## Testing

No automated tests are currently available for this component. Test coverage is recommended for:
- URL validation logic for GitHub repositories
- State persistence across pause/resume cycles
- Background promise error containment
- Wiki page routing and file path conversion
- HTTP endpoint behavior and response formats