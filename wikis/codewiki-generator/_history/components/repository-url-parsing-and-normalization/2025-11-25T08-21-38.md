---
title: Repository URL Parsing and Normalization
category: component
sourceFile: lib/github.js
related: []
created: 2025-11-25
updated: 2025-11-25
---

# Repository URL Parsing and Normalization

## Purpose and Overview

This component provides robust parsing and normalization of GitHub repository URLs, handling both HTTPS and SSH formats to extract standardized owner/repository information. It abstracts away URL format variations, enabling consistent downstream processing regardless of the original URL format provided by users or configuration.

## Key Functionality

The URL parsing and normalization functionality:

- **Dual Format Support**: Parses both HTTPS (`https://github.com/owner/repo`) and SSH (`git@github.com:owner/repo.git`) URL formats
- **Normalization**: Extracts and standardizes owner and repository name components from various URL formats
- **Validation**: Ensures parsed URLs conform to expected GitHub repository patterns
- **Format Abstraction**: Provides a unified interface that hides URL format complexity from consuming code

The parser handles common variations like trailing `.git` extensions, different protocols, and URL path structures to consistently extract the essential `owner/repo` components needed for GitHub API operations.

## Relationships

This component serves as a foundational utility within the GitHub API client system:

- **GitHub API Client**: Used by the main GitHubClient class to normalize repository URLs before making API calls
- **Configuration Processing**: Enables flexible repository specification in configuration files and command-line arguments
- **API Operations**: Provides the standardized owner/repo parameters required by GitHub REST API endpoints
- **Error Handling**: Integrates with the broader error handling system to provide meaningful feedback for malformed URLs

## Usage Example

```javascript
const GitHubClient = require('./lib/github');

// Create GitHubClient instance
const githubClient = new GitHubClient();

// Parse different URL formats
const httpsUrl = 'https://github.com/owner/repository';
const sshUrl = 'git@github.com:owner/repository.git';

// Both formats are normalized to extract owner/repo components
const parsedHttps = githubClient.parseRepoUrl(httpsUrl);
const parsedSsh = githubClient.parseRepoUrl(sshUrl);

// Both return standardized { owner, repo } objects
console.log(parsedHttps); // { owner: 'owner', repo: 'repository' }
console.log(parsedSsh);   // { owner: 'owner', repo: 'repository' }
```

## Testing

**Test Coverage**: `tests/unit/github.test.js`
- 18 total test cases across 7 test suites
- Dedicated `parseRepoUrl` test suite covering URL format variations
- Integration testing with GitHubClient, getRepoInfo, getCommits, getCommit, and getFileContent operations
- Comprehensive error handling and retry logic validation