---
title: Concept-centric documentation workflow
category: concept
sourceFile: lib/processor.js
related: []
created: 2025-11-25
updated: 2025-11-25
---

# Concept-centric Documentation Workflow

## Purpose and Overview

The concept-centric documentation workflow is a design pattern that automatically decomposes code changes into conceptual units, each receiving independent documentation pages that can be created or updated based on analysis results. This workflow transforms the traditional file-based documentation approach into a more flexible, concept-driven system that adapts to how code actually evolves.

## Key Functionality

The workflow operates through several coordinated processes:

- **Commit Processing**: Analyzes code changes from commits to identify concepts and determine documentation updates needed
- **File Significance Filtering**: Evaluates which files warrant documentation effort, filtering out non-significant files and those without meaningful patches
- **Contextual Analysis**: Extracts keywords from file paths to retrieve up to 3 related wiki pages as context, improving analysis quality through relevant existing documentation
- **Concept Decomposition**: Breaks down code changes into discrete concepts that can be independently documented and maintained
- **Documentation Lifecycle Management**: Coordinates the creation, updating, and organization of concept-based documentation pages

## Relationships

This workflow is implemented primarily through the **Processor class**, which serves as the central orchestrator. It connects several key components:

- **WikiManager**: Handles page creation, updates, and retrieval operations
- **StateManager**: Manages workflow state and persistence
- **Analysis Agents**: Multiple specialized agents (CodeAnalysisAgent, DocWriterAgent, TechDebtAgent, SecurityAgent) that perform different aspects of code analysis
- **Commit-driven Documentation Pipeline**: The broader architectural pattern that triggers this workflow

The workflow operates within the pipeline, processing commits and coordinating between wiki management and agent-based analysis systems.

## Usage Example

```javascript
const Processor = require('./lib/processor');

// Initialize processor with required managers and agents
const processor = new Processor({
  wikiManager: mockWikiManager,
  stateManager: mockStateManager,
  codeAnalysisAgent: mockCodeAnalysisAgent,
  docWriterAgent: mockDocWriterAgent,
  techDebtAgent: mockTechDebtAgent,
  securityAgent: mockSecurityAgent
});

// Process a commit to trigger concept-centric documentation
await processor.processCommit(commitData);
```

## Testing

**Test Coverage**: Comprehensive testing in `tests/unit/processor.test.js`
- 26 test cases across 6 test suites
- Tests cover core workflow components: Processor initialization, commit processing, file significance filtering, contextual retrieval, page path determination, and repository processing
- Validates the complete concept-centric workflow from commit input to documentation output