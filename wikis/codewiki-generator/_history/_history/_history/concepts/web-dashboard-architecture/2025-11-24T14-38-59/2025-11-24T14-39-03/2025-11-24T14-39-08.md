---
title: Web Dashboard Architecture
category: concept
sourceFile: server.js
related: [components/processing-control-api.md]
created: 2025-11-24
updated: 2025-11-24
---

# Web Dashboard Architecture

## Purpose and Overview

The web dashboard architecture provides an HTTP-based control interface for repository processing with real-time status tracking and integrated wiki documentation. It serves as the primary web interface for managing code analysis workflows through a unified controller-based pattern that separates presentation logic from core server operations.

## Key Functionality

The dashboard implements a layered architecture with dedicated presentation logic through the following components:

**[Processing Control API](../components/processing-control-api.md)** - Exposes REST endpoints for managing repository processing operations:
- `POST /process/start` - Initiates processing on a repository
- `POST /process/pause` - Pauses ongoing processing
- `POST /process/step` - Executes a single processing step
- `POST /process/batch` - Runs batch processing operations
- `GET /api/status` - Returns current processing state as JSON

These endpoints validate GitHub repository URLs, enforce cost limits, and provide immediate feedback for UI-driven and programmatic interactions.

**Dashboard Rendering** - The `GET /` route renders the main dashboard HTML interface through the DashboardController, providing a centralized presentation layer.

**Wiki Content Routing** - Implements dynamic routing through `app.use('/wiki')` middleware that maps URL paths to wiki markdown files with automatic file extension handling. This enables seamless navigation of generated documentation through web-friendly URLs.

The DashboardController maintains processing state persistence and coordinates background processing operations while supporting multiple strategies including continuous processing, single-step execution, and configurable batch processing.

## Relationships

The DashboardController serves as the central orchestration point between the web interface and core processing engine:

- **Processor** - Delegates actual repository analysis and commit processing
- **StateManager** - Maintains persistent processing state across sessions
- **WikiManager** - Handles wiki content generation and file management

The controller abstracts presentation logic from Express route handlers, enabling clean separation of concerns and simplified route management. All dashboard routes depend on DashboardController initialization.

## Usage Example

```javascript
const DashboardController = require('./lib/dashboard-controller');

// Initialize controller with dependencies
const controller = new DashboardController(processor, stateManager, wikiManager);

// Start processing a repository
await controller.startProcessing('https://github.com/owner/repo');

// Check current status
const status = await controller.getStatus();

// Process single step for fine-grained control
await controller.processStep();
```

## Testing

Test coverage for server functionality is available in `tests/integration/server.test.js` with 11 test cases across 6 suites covering Express Server, Health Check, Static File Serving, View Engine, Error Handling, and Middleware Configuration. Additional test coverage is recommended specifically for the DashboardController's processing control endpoints and wiki routing logic.